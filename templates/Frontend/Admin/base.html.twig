{% extends '@SonataAdmin/standard_layout.html.twig' %}


{% block logo %}
    {% apply spaceless %}
        <a class="logo" href="https://www.kdn.de/" target="_blank">
            {% if 'single_image' == sonata_admin.adminPool.getOption('title_mode') or 'both' == sonata_admin.adminPool.getOption('title_mode') %}
                <img src="{{ asset(sonata_admin.adminPool.titlelogo) }}" alt="{{ sonata_admin.adminPool.title }}">
            {% endif %}
            {% if 'single_text' == sonata_admin.adminPool.getOption('title_mode') or 'both' == sonata_admin.adminPool.getOption('title_mode') %}
                <span>{{ sonata_admin.adminPool.title }}</span>
            {% endif %}
        </a>
    {% endapply %}
{% endblock %}


{% block sonata_top_nav_menu %}
    <div class="navbar-custom-menu">
        <ul class="nav navbar-nav">
    {% if app.user %}
        <li>
            <a href="{{ path('sonata_admin_dashboard') }}">
                <i class="fa fa-home" aria-hidden="true"></i>
                <span>{{ 'app.menu.dashboard'|trans }}</span>
            </a>
        </li>
    {% else %}
        <li>
            <a href="/admin/login">
                <i class="fa fa-sign-in" aria-hidden="true"></i>
                <span>{{ 'app.menu.login'|trans }}</span>
            </a>
        </li>
    {% endif %}
        </ul>
    </div>
{% endblock %}

{% block sonata_sidebar_search %}
{% endblock sonata_sidebar_search %}


{% block side_bar_nav %}
    <ul class="sidebar-menu" data-widget="tree">
        <li class="first treeview active">
            <a href="#">
                <i class="fa fa-sitemap" aria-hidden="true"></i>
                <span>{{ 'app.menu.ozg_overview'|trans }}</span>
                <span class="pull-right-container"><i class="fa pull-right fa-angle-left"></i></span>
            </a>
            <ul class="active treeview-menu menu_level_1">
                {% set menuItems = {
                    'service': {
                        'routePrefix': 'frontend_app_service',
                        'label': 'app.service.frontend.list'
                    },
                    'service_system': {
                        'routePrefix': 'frontend_app_servicesystem',
                        'label': 'app.service_system.list'
                    },
                    'implementationproject': {
                        'routePrefix': 'frontend_app_implementationproject',
                        'label': 'app.implementation_project.list'
                    },
                    'solution': {
                        'routePrefix': 'frontend_app_solution',
                        'label': 'app.solution.list'
                    }
                } %}
                {% for menuItem in menuItems %}
                    {% set miActive = menuItem.routePrefix in app.request.attributes.get('_route') %}
                    <li class="{% if loop.first %}first{% endif %}{% if loop.last %}last{% endif %}{% if miActive %} active{% endif %}">
                        <a href="{{ path(menuItem.routePrefix ~ '_list') }}">
                            <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                            {{ menuItem.label|trans }}
                        </a>
                        {% if miActive %}
                            {% include 'Frontend/Admin/CRUD/menu-datagrid-filter.html.twig' %}
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </li>
    </ul>
{% endblock side_bar_nav %}