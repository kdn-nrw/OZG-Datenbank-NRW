{% apply spaceless %}
{% for menu in items %}
    {%- set translation_domain = menu.extra('translation_domain', 'messages') -%}
    {# We use method accessor instead of ".label" since `menu` implements `ArrayAccess` and could have a property called "label". #}
    {%- set label = menu.getLabel() -%}
    {%- if translation_domain is not same as(false) -%}
        {%- set label = label|trans(menu.extra('translation_params', {}), translation_domain) -%}
    {%- endif -%}

    {% if not loop.first %}
        &nbsp;&gt;
    {% endif %}
    {% if not loop.last %}
        &nbsp;<span class="breadcrumb-item">
            {% if menu.uri is not empty %}
                {# MOD: change home menu link to / in frontend #}
                {% if menu.uri == '/admin/dashboard' %}
                    {% set href = '/' %}
                {% else %}
                    {% set href = menu.uri %}
                {% endif %}
                <a href="{{ href }}">
                    {% if menu.extra('safe_label', true) %}
                        {{- label|raw -}}
                    {% else %}
                        {{- label|u.truncate(100, '...') -}}
                    {% endif %}
                </a>
            {% else %}
                <span>{{ label|u.truncate(100, '...') }}</span>
            {% endif %}
        </span>
    {% else %}
        &nbsp;<span class="breadcrumb-item active"><span>{{ label|u.truncate(100, '...') }}</span></span>
    {% endif %}
{% endfor %}
{% endapply %}
