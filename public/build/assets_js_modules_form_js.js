(self["webpackChunkkdn_ozg"] = self["webpackChunkkdn_ozg"] || []).push([["assets_js_modules_form_js"],{

/***/ "./assets/js/modules/form.js":
/*!***********************************!*\
  !*** ./assets/js/modules/form.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * This file is part of the KDN OZG package.
 *
 * @author    Gert Hammes <info@gerthammes.de>
 * @copyright 2021 Gert Hammes
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
(function (root, factory) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
		__WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function () {
  "use strict";
  /**
   * Initialize custom select2 elements:
   * jQuery is loaded globally by Sonata Admin and therefore is not required here!
   */

  return {
    setUpList: function (formContainers) {
      let self = this;

      for (let i = 0, n = formContainers.length; i < n; i++) {
        self.initFormContainer(formContainers[i]);
      }
    },
    initFormContainer: function (formContainer) {
      let self = this;
      let copyRowsContainers = formContainer.querySelectorAll('.js-copy-row-values');

      if (copyRowsContainers.length > 0) {
        for (let i = 0, n = copyRowsContainers.length; i < n; i++) {
          self.initCopyRowContainer(copyRowsContainers[i]);
        }
      }

      self.initFormMeta(formContainer);
      let toggleInfoContainers = formContainer.querySelectorAll('.js-toggle-info');

      if (toggleInfoContainers.length > 0) {
        let toggleElts = function (container) {
          let toggleClass = container.dataset.toggle;
          let showClass = null;

          if (container.nodeName.toLowerCase() === 'input') {
            let isCb = container.getAttribute('type') === 'radio' || container.getAttribute('type') === 'checkbox';

            if (isCb && container.checked || !isCb && container.value) {
              showClass = container.dataset.toggle + '-show-' + container.dataset.show;
            }
          }

          let toggleElts = formContainer.querySelectorAll('.' + toggleClass);

          for (let t = 0, nt = toggleElts.length; t < nt; t++) {
            toggleElts[t].setAttribute('style', 'display:none;');

            if (showClass && toggleElts[t].classList.contains(showClass)) {
              toggleElts[t].removeAttribute('style', 'display:none;');
            }
          }
        };

        for (let i = 0, n = toggleInfoContainers.length; i < n; i++) {
          toggleElts(toggleInfoContainers[i]);
        }

        formContainer.addEventListener('click', function (evt) {
          if (evt.target.matches('.js-toggle-info')) {
            toggleElts(evt.target);
          }
        }, false);
      }
    },
    initFormMeta: function (formContainer) {
      let self = this; // jQuery is loaded globally by Sonata Admin and therefore is not required here!

      let formMeta = formContainer.querySelectorAll('.app-form-meta');

      if (formMeta.length > 0) {
        for (let i = 0, n = formMeta.length; i < n; i++) {
          let metaProperties = JSON.parse(formMeta[i].dataset.meta);

          if (typeof metaProperties === 'object') {
            let formId = formMeta[i].dataset.formId;
            let keys = Object.keys(metaProperties);
            keys.forEach(function (key) {
              const idSuffix = formId + '_' + metaProperties[key].property;
              self.addFormElementMeta(idSuffix, key, metaProperties);
            });
          }

          jQuery('.js-form-label-popover:not(.initialized)').each(function () {
            $(this).addClass('initialized');
            $(this).popover();
          });
        }
      }
    },
    addFormElementMeta: function (idSuffix, key, metaProperties) {
      let self = this;
      const formGroupElt = document.getElementById('sonata-ba-field-container-' + idSuffix);
      let labelElt = null;

      if (formGroupElt) {
        labelElt = formGroupElt.querySelector('.control-label');

        if (!labelElt) {
          labelElt = formGroupElt.querySelector('.control-label__text');
        }

        if (labelElt && labelElt.querySelector('.field-help') === null) {
          let description = '';

          if (metaProperties[key].description) {
            description = metaProperties[key].description.replace('"', "'").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1<br>');
          }

          let helpTitle = labelElt.textContent.replace(/(<([^>]+)>)/gi, "");
          let propertyHelpHtml = '\n' + '<span id="meta-help-' + idSuffix + '" class="has-popover">' + '<span class="field-help js-form-label-popover" data-toggle="popover" title="' + helpTitle + '" data-content="' + description + '"' + ' data-html="1" data-trigger="hover" data-placement="top" data-container="#meta-help-' + idSuffix + '">' + ' <i class="fa fa-question-circle" aria-hidden="true"></i>' + '</span>' + '</span>';
          labelElt.innerHTML = labelElt.innerHTML + propertyHelpHtml;
        }

        if (typeof metaProperties[key].subMeta === "object" && metaProperties[key].subMeta !== null) {
          let subMetaProperties = metaProperties[key].subMeta;
          let subKeys = Object.keys(subMetaProperties);
          let maxCollectionOffset = -1;
          subKeys.forEach(function (subKey) {
            const subPropertyName = subMetaProperties[subKey].property;

            if (maxCollectionOffset < 0) {
              let checkCollectionElt = null;

              do {
                ++maxCollectionOffset;
                let checkSuffix = idSuffix + '_' + maxCollectionOffset + '_' + subPropertyName;
                checkCollectionElt = document.getElementById('sonata-ba-field-container-' + checkSuffix);

                if (checkCollectionElt === null) {
                  --maxCollectionOffset;
                }
              } while (checkCollectionElt !== null);
            }

            for (let i = 0; i <= maxCollectionOffset; i++) {
              const subIdSuffix = idSuffix + '_' + i + '_' + subPropertyName;
              self.addFormElementMeta(subIdSuffix, subKey, subMetaProperties);
            }
          });
        }

        return true;
      }

      return false;
    },
    initCopyRowContainer: function (copyRowsContainer) {
      let self = this;
      let rows = copyRowsContainer.querySelectorAll('.sonata-collection-row');

      if (rows.length > 0) {
        for (let i = 0, n = rows.length; i < n; i++) {
          let rowElement = rows[i];
          rowElement.innerHTML = '<div class="block-copy-paste">' + '<i class="fa fa-files-o action-copy inactive js-row-copy" aria-hidden="true"></i>' + '<i class="fa fa-clipboard action-paste inactive disabled js-row-paste" aria-hidden="true"></i>' + '</div>' + rowElement.innerHTML;
          copyRowsContainer.addEventListener('click', function (evt) {
            if (evt.target.matches('.js-row-copy')) {
              evt.preventDefault();
              evt.stopPropagation();
              self.resetCopyPasteContainer(copyRowsContainer, evt.target);
            }

            if (evt.target.matches('.js-row-paste')) {
              evt.preventDefault();
              evt.stopPropagation();
              self.pasteValues(copyRowsContainer, evt.target);
              self.resetCopyPasteContainer(copyRowsContainer, null);
            }
          }, false);
        }
      }
    },
    resetCopyPasteContainer: function (copyRowsContainer, activeCopyElt) {
      let copyList = copyRowsContainer.querySelectorAll('.js-row-copy');

      for (let i = 0, n = copyList.length; i < n; i++) {
        if (copyList[i].classList.contains('active')) {
          copyList[i].classList.remove('active');
          copyList[i].classList.add('inactive');
        }

        if (copyList[i].classList.contains('disabled')) {
          copyList[i].classList.remove('disabled');
        }

        if (activeCopyElt) {
          if (activeCopyElt && activeCopyElt === copyList[i]) {
            copyList[i].classList.remove('inactive');
            copyList[i].classList.add('active');
          } else {
            copyList[i].classList.add('disabled');
          }
        }
      }

      let pasteList = copyRowsContainer.querySelectorAll('.js-row-paste');

      for (let i = 0, n = pasteList.length; i < n; i++) {
        if (pasteList[i].classList.contains('active')) {
          pasteList[i].classList.remove('active');
          pasteList[i].classList.add('inactive');
        }

        if (pasteList[i].classList.contains('disabled')) {
          pasteList[i].classList.remove('disabled');
        }

        if (activeCopyElt) {
          if (activeCopyElt.nextSibling !== pasteList[i]) {
            pasteList[i].classList.remove('inactive');
            pasteList[i].classList.add('active');
          } else {
            pasteList[i].classList.add('disabled');
          }
        }
      }
    },
    pasteValues: function (copyRowsContainer, activePasteElt) {
      let activeCopyElt = copyRowsContainer.querySelector('.action-copy.active');

      if (activeCopyElt) {
        let copyRow = activeCopyElt.closest('.sonata-collection-row');
        let pasteRow = activePasteElt.closest('.sonata-collection-row');

        if (copyRow && pasteRow) {
          let copyFormInputs = copyRow.querySelectorAll('.form-control');
          let pasteFormInputs = pasteRow.querySelectorAll('.form-control');

          for (let i = 0, n = copyFormInputs.length; i < n; i++) {
            if (!copyFormInputs[i].disabled && !pasteFormInputs[i].disabled) {
              pasteFormInputs[i].value = copyFormInputs[i].value;
            }
          }
        }
      }
    }
  };
});

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SXVCLGFBQUosRUFBbUI7UUFDZixJQUFJTyxPQUFPLEdBQUdQLGFBQWEsQ0FBQ1EsT0FBZCxDQUFzQix3QkFBdEIsQ0FBZDtRQUNBLElBQUlDLFFBQVEsR0FBR0gsY0FBYyxDQUFDRSxPQUFmLENBQXVCLHdCQUF2QixDQUFmOztRQUNBLElBQUlELE9BQU8sSUFBSUUsUUFBZixFQUF5QjtVQUNyQixJQUFJQyxjQUFjLEdBQUdILE9BQU8sQ0FBQy9FLGdCQUFSLENBQXlCLGVBQXpCLENBQXJCO1VBQ0EsSUFBSW1GLGVBQWUsR0FBR0YsUUFBUSxDQUFDakYsZ0JBQVQsQ0FBMEIsZUFBMUIsQ0FBdEI7O1VBQ0EsS0FBSyxJQUFJTixDQUFDLEdBQUcsQ0FBUixFQUFXQyxDQUFDLEdBQUd1RixjQUFjLENBQUN0RixNQUFuQyxFQUEyQ0YsQ0FBQyxHQUFHQyxDQUEvQyxFQUFrREQsQ0FBQyxFQUFuRCxFQUF1RDtZQUNuRCxJQUFJLENBQUN3RixjQUFjLENBQUN4RixDQUFELENBQWQsQ0FBa0IwRixRQUFuQixJQUErQixDQUFDRCxlQUFlLENBQUN6RixDQUFELENBQWYsQ0FBbUIwRixRQUF2RCxFQUFpRTtjQUM3REQsZUFBZSxDQUFDekYsQ0FBRCxDQUFmLENBQW1CcUIsS0FBbkIsR0FBMkJtRSxjQUFjLENBQUN4RixDQUFELENBQWQsQ0FBa0JxQixLQUE3QztZQUNIO1VBQ0o7UUFDSjtNQUNKO0lBQ0o7RUF0TUUsQ0FBUDtBQXdNSCxDQTNOQSxDQUFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2RuX296Zy8uL2Fzc2V0cy9qcy9tb2R1bGVzL2Zvcm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgS0ROIE9aRyBwYWNrYWdlLlxuICpcbiAqIEBhdXRob3IgICAgR2VydCBIYW1tZXMgPGluZm9AZ2VydGhhbW1lcy5kZT5cbiAqIEBjb3B5cmlnaHQgMjAyMSBHZXJ0IEhhbW1lc1xuICpcbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5kZWZpbmVkUHJvcGVydHlBc3NpZ25tZW50XG4gICAgICAgIHJvb3QuYXBwRm9ybSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGN1c3RvbSBzZWxlY3QyIGVsZW1lbnRzOlxuICAgICAqIGpRdWVyeSBpcyBsb2FkZWQgZ2xvYmFsbHkgYnkgU29uYXRhIEFkbWluIGFuZCB0aGVyZWZvcmUgaXMgbm90IHJlcXVpcmVkIGhlcmUhXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0VXBMaXN0OiBmdW5jdGlvbiAoZm9ybUNvbnRhaW5lcnMpIHtcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gZm9ybUNvbnRhaW5lcnMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pbml0Rm9ybUNvbnRhaW5lcihmb3JtQ29udGFpbmVyc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRGb3JtQ29udGFpbmVyOiBmdW5jdGlvbihmb3JtQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBsZXQgY29weVJvd3NDb250YWluZXJzID0gZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuanMtY29weS1yb3ctdmFsdWVzJyk7XG4gICAgICAgICAgICBpZiAoY29weVJvd3NDb250YWluZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGNvcHlSb3dzQ29udGFpbmVycy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbml0Q29weVJvd0NvbnRhaW5lcihjb3B5Um93c0NvbnRhaW5lcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuaW5pdEZvcm1NZXRhKGZvcm1Db250YWluZXIpO1xuICAgICAgICAgICAgbGV0IHRvZ2dsZUluZm9Db250YWluZXJzID0gZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuanMtdG9nZ2xlLWluZm8nKTtcbiAgICAgICAgICAgIGlmICh0b2dnbGVJbmZvQ29udGFpbmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvZ2dsZUVsdHMgPSBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvZ2dsZUNsYXNzID0gY29udGFpbmVyLmRhdGFzZXQudG9nZ2xlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2hvd0NsYXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNDYiA9IGNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ3JhZGlvJyB8fCBjb250YWluZXIuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdjaGVja2JveCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChpc0NiICYmIGNvbnRhaW5lci5jaGVja2VkKSB8fCAoIWlzQ2IgJiYgY29udGFpbmVyLnZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xhc3MgPSBjb250YWluZXIuZGF0YXNldC50b2dnbGUgKyAnLXNob3ctJyArIGNvbnRhaW5lci5kYXRhc2V0LnNob3c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvZ2dsZUVsdHMgPSBmb3JtQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgdG9nZ2xlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0ID0gMCwgbnQgPSB0b2dnbGVFbHRzLmxlbmd0aDsgdCA8IG50OyB0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUVsdHNbdF0uc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd0NsYXNzICYmIHRvZ2dsZUVsdHNbdF0uY2xhc3NMaXN0LmNvbnRhaW5zKHNob3dDbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVFbHRzW3RdLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IHRvZ2dsZUluZm9Db250YWluZXJzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVFbHRzKHRvZ2dsZUluZm9Db250YWluZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9ybUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQubWF0Y2hlcygnLmpzLXRvZ2dsZS1pbmZvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUVsdHMoZXZ0LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRGb3JtTWV0YTogZnVuY3Rpb24oZm9ybUNvbnRhaW5lcikge1xuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgLy8galF1ZXJ5IGlzIGxvYWRlZCBnbG9iYWxseSBieSBTb25hdGEgQWRtaW4gYW5kIHRoZXJlZm9yZSBpcyBub3QgcmVxdWlyZWQgaGVyZSFcbiAgICAgICAgICAgIGxldCBmb3JtTWV0YSA9IGZvcm1Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmFwcC1mb3JtLW1ldGEnKTtcbiAgICAgICAgICAgIGlmIChmb3JtTWV0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBmb3JtTWV0YS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGFQcm9wZXJ0aWVzID0gSlNPTi5wYXJzZShmb3JtTWV0YVtpXS5kYXRhc2V0Lm1ldGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1ldGFQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm1JZCA9IGZvcm1NZXRhW2ldLmRhdGFzZXQuZm9ybUlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhtZXRhUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkU3VmZml4ID0gZm9ybUlkICsgJ18nICsgbWV0YVByb3BlcnRpZXNba2V5XS5wcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZEZvcm1FbGVtZW50TWV0YShpZFN1ZmZpeCwga2V5LCBtZXRhUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoJy5qcy1mb3JtLWxhYmVsLXBvcG92ZXI6bm90KC5pbml0aWFsaXplZCknKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wb3BvdmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuICAgICAgICBhZGRGb3JtRWxlbWVudE1ldGE6IGZ1bmN0aW9uKGlkU3VmZml4LCBrZXksIG1ldGFQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBmb3JtR3JvdXBFbHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29uYXRhLWJhLWZpZWxkLWNvbnRhaW5lci0nICsgaWRTdWZmaXgpO1xuICAgICAgICAgICAgbGV0IGxhYmVsRWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChmb3JtR3JvdXBFbHQpIHtcbiAgICAgICAgICAgICAgICBsYWJlbEVsdCA9IGZvcm1Hcm91cEVsdC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbC1sYWJlbCcpO1xuICAgICAgICAgICAgICAgIGlmICghbGFiZWxFbHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxFbHQgPSBmb3JtR3JvdXBFbHQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtbGFiZWxfX3RleHQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsRWx0ICYmIGxhYmVsRWx0LnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1oZWxwJykgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhUHJvcGVydGllc1trZXldLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IG1ldGFQcm9wZXJ0aWVzW2tleV0uZGVzY3JpcHRpb24ucmVwbGFjZSgnXCInLCBcIidcIikucmVwbGFjZSgvKFtePlxcclxcbl0/KShcXHJcXG58XFxuXFxyfFxccnxcXG4pL2csICckMTxicj4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgaGVscFRpdGxlID0gKGxhYmVsRWx0LnRleHRDb250ZW50KS5yZXBsYWNlKC8oPChbXj5dKyk+KS9naSwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9wZXJ0eUhlbHBIdG1sID0gJ1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGlkPVwibWV0YS1oZWxwLScraWRTdWZmaXgrJ1wiIGNsYXNzPVwiaGFzLXBvcG92ZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImZpZWxkLWhlbHAganMtZm9ybS1sYWJlbC1wb3BvdmVyXCIgZGF0YS10b2dnbGU9XCJwb3BvdmVyXCIgdGl0bGU9XCInK2hlbHBUaXRsZSsnXCIgZGF0YS1jb250ZW50PVwiJytkZXNjcmlwdGlvbisnXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgZGF0YS1odG1sPVwiMVwiIGRhdGEtdHJpZ2dlcj1cImhvdmVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiBkYXRhLWNvbnRhaW5lcj1cIiNtZXRhLWhlbHAtJytpZFN1ZmZpeCsnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIDxpIGNsYXNzPVwiZmEgZmEtcXVlc3Rpb24tY2lyY2xlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JztcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxFbHQuaW5uZXJIVE1MID0gbGFiZWxFbHQuaW5uZXJIVE1MICsgcHJvcGVydHlIZWxwSHRtbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgbWV0YVByb3BlcnRpZXNba2V5XS5zdWJNZXRhKSA9PT0gXCJvYmplY3RcIiAmJiBtZXRhUHJvcGVydGllc1trZXldLnN1Yk1ldGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1Yk1ldGFQcm9wZXJ0aWVzID0gbWV0YVByb3BlcnRpZXNba2V5XS5zdWJNZXRhO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3ViS2V5cyA9IE9iamVjdC5rZXlzKHN1Yk1ldGFQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1heENvbGxlY3Rpb25PZmZzZXQgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgc3ViS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlByb3BlcnR5TmFtZSA9IHN1Yk1ldGFQcm9wZXJ0aWVzW3N1YktleV0ucHJvcGVydHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4Q29sbGVjdGlvbk9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tDb2xsZWN0aW9uRWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsrbWF4Q29sbGVjdGlvbk9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrU3VmZml4ID0gaWRTdWZmaXggKyAnXycgKyBtYXhDb2xsZWN0aW9uT2Zmc2V0ICsgJ18nICsgc3ViUHJvcGVydHlOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0NvbGxlY3Rpb25FbHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29uYXRhLWJhLWZpZWxkLWNvbnRhaW5lci0nICsgY2hlY2tTdWZmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tDb2xsZWN0aW9uRWx0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLW1heENvbGxlY3Rpb25PZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlKGNoZWNrQ29sbGVjdGlvbkVsdCAhPT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8PW1heENvbGxlY3Rpb25PZmZzZXQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YklkU3VmZml4ID0gaWRTdWZmaXggKyAnXycgKyBpICsgJ18nICsgc3ViUHJvcGVydHlOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkRm9ybUVsZW1lbnRNZXRhKHN1YklkU3VmZml4LCBzdWJLZXksIHN1Yk1ldGFQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBpbml0Q29weVJvd0NvbnRhaW5lcjogZnVuY3Rpb24oY29weVJvd3NDb250YWluZXIpIHtcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGxldCByb3dzID0gY29weVJvd3NDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnNvbmF0YS1jb2xsZWN0aW9uLXJvdycpO1xuICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gcm93cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJvd0VsZW1lbnQgPSByb3dzW2ldO1xuICAgICAgICAgICAgICAgICAgICByb3dFbGVtZW50LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiYmxvY2stY29weS1wYXN0ZVwiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJzxpIGNsYXNzPVwiZmEgZmEtZmlsZXMtbyBhY3Rpb24tY29weSBpbmFjdGl2ZSBqcy1yb3ctY29weVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nXG4gICAgICAgICAgICAgICAgICAgICAgICArICc8aSBjbGFzcz1cImZhIGZhLWNsaXBib2FyZCBhY3Rpb24tcGFzdGUgaW5hY3RpdmUgZGlzYWJsZWQganMtcm93LXBhc3RlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJzwvZGl2PicgKyByb3dFbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgY29weVJvd3NDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5tYXRjaGVzKCcuanMtcm93LWNvcHknKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc2V0Q29weVBhc3RlQ29udGFpbmVyKGNvcHlSb3dzQ29udGFpbmVyLCBldnQudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldnQudGFyZ2V0Lm1hdGNoZXMoJy5qcy1yb3ctcGFzdGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBhc3RlVmFsdWVzKGNvcHlSb3dzQ29udGFpbmVyLCBldnQudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc2V0Q29weVBhc3RlQ29udGFpbmVyKGNvcHlSb3dzQ29udGFpbmVyLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXRDb3B5UGFzdGVDb250YWluZXI6IGZ1bmN0aW9uIChjb3B5Um93c0NvbnRhaW5lciwgYWN0aXZlQ29weUVsdCkge1xuICAgICAgICAgICAgbGV0IGNvcHlMaXN0ID0gY29weVJvd3NDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmpzLXJvdy1jb3B5Jyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGNvcHlMaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjb3B5TGlzdFtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlMaXN0W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICBjb3B5TGlzdFtpXS5jbGFzc0xpc3QuYWRkKCdpbmFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29weUxpc3RbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlMaXN0W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVDb3B5RWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVDb3B5RWx0ICYmIGFjdGl2ZUNvcHlFbHQgPT09IGNvcHlMaXN0W2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5TGlzdFtpXS5jbGFzc0xpc3QucmVtb3ZlKCdpbmFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29weUxpc3RbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5TGlzdFtpXS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhc3RlTGlzdCA9IGNvcHlSb3dzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1yb3ctcGFzdGUnKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gcGFzdGVMaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXN0ZUxpc3RbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXN0ZUxpc3RbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIHBhc3RlTGlzdFtpXS5jbGFzc0xpc3QuYWRkKCdpbmFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFzdGVMaXN0W2ldLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXN0ZUxpc3RbaV0uY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUNvcHlFbHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUNvcHlFbHQubmV4dFNpYmxpbmcgIT09IHBhc3RlTGlzdFtpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGVMaXN0W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2luYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZUxpc3RbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZUxpc3RbaV0uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGFzdGVWYWx1ZXM6IGZ1bmN0aW9uIChjb3B5Um93c0NvbnRhaW5lciwgYWN0aXZlUGFzdGVFbHQpIHtcbiAgICAgICAgICAgIGxldCBhY3RpdmVDb3B5RWx0ID0gY29weVJvd3NDb250YWluZXIucXVlcnlTZWxlY3RvcignLmFjdGlvbi1jb3B5LmFjdGl2ZScpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUNvcHlFbHQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29weVJvdyA9IGFjdGl2ZUNvcHlFbHQuY2xvc2VzdCgnLnNvbmF0YS1jb2xsZWN0aW9uLXJvdycpO1xuICAgICAgICAgICAgICAgIGxldCBwYXN0ZVJvdyA9IGFjdGl2ZVBhc3RlRWx0LmNsb3Nlc3QoJy5zb25hdGEtY29sbGVjdGlvbi1yb3cnKTtcbiAgICAgICAgICAgICAgICBpZiAoY29weVJvdyAmJiBwYXN0ZVJvdykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29weUZvcm1JbnB1dHMgPSBjb3B5Um93LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWNvbnRyb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhc3RlRm9ybUlucHV0cyA9IHBhc3RlUm93LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWNvbnRyb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBjb3B5Rm9ybUlucHV0cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29weUZvcm1JbnB1dHNbaV0uZGlzYWJsZWQgJiYgIXBhc3RlRm9ybUlucHV0c1tpXS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3RlRm9ybUlucHV0c1tpXS52YWx1ZSA9IGNvcHlGb3JtSW5wdXRzW2ldLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn0pKTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcHBGb3JtIiwic2V0VXBMaXN0IiwiZm9ybUNvbnRhaW5lcnMiLCJzZWxmIiwiaSIsIm4iLCJsZW5ndGgiLCJpbml0Rm9ybUNvbnRhaW5lciIsImZvcm1Db250YWluZXIiLCJjb3B5Um93c0NvbnRhaW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5pdENvcHlSb3dDb250YWluZXIiLCJpbml0Rm9ybU1ldGEiLCJ0b2dnbGVJbmZvQ29udGFpbmVycyIsInRvZ2dsZUVsdHMiLCJjb250YWluZXIiLCJ0b2dnbGVDbGFzcyIsImRhdGFzZXQiLCJ0b2dnbGUiLCJzaG93Q2xhc3MiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiaXNDYiIsImdldEF0dHJpYnV0ZSIsImNoZWNrZWQiLCJ2YWx1ZSIsInNob3ciLCJ0IiwibnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZUF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJ0YXJnZXQiLCJtYXRjaGVzIiwiZm9ybU1ldGEiLCJtZXRhUHJvcGVydGllcyIsIkpTT04iLCJwYXJzZSIsIm1ldGEiLCJmb3JtSWQiLCJrZXlzIiwiT2JqZWN0IiwiZm9yRWFjaCIsImtleSIsImlkU3VmZml4IiwicHJvcGVydHkiLCJhZGRGb3JtRWxlbWVudE1ldGEiLCJqUXVlcnkiLCJlYWNoIiwiJCIsImFkZENsYXNzIiwicG9wb3ZlciIsImZvcm1Hcm91cEVsdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJsYWJlbEVsdCIsInF1ZXJ5U2VsZWN0b3IiLCJkZXNjcmlwdGlvbiIsInJlcGxhY2UiLCJoZWxwVGl0bGUiLCJ0ZXh0Q29udGVudCIsInByb3BlcnR5SGVscEh0bWwiLCJpbm5lckhUTUwiLCJzdWJNZXRhIiwic3ViTWV0YVByb3BlcnRpZXMiLCJzdWJLZXlzIiwibWF4Q29sbGVjdGlvbk9mZnNldCIsInN1YktleSIsInN1YlByb3BlcnR5TmFtZSIsImNoZWNrQ29sbGVjdGlvbkVsdCIsImNoZWNrU3VmZml4Iiwic3ViSWRTdWZmaXgiLCJjb3B5Um93c0NvbnRhaW5lciIsInJvd3MiLCJyb3dFbGVtZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZXNldENvcHlQYXN0ZUNvbnRhaW5lciIsInBhc3RlVmFsdWVzIiwiYWN0aXZlQ29weUVsdCIsImNvcHlMaXN0IiwicmVtb3ZlIiwiYWRkIiwicGFzdGVMaXN0IiwibmV4dFNpYmxpbmciLCJhY3RpdmVQYXN0ZUVsdCIsImNvcHlSb3ciLCJjbG9zZXN0IiwicGFzdGVSb3ciLCJjb3B5Rm9ybUlucHV0cyIsInBhc3RlRm9ybUlucHV0cyIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==