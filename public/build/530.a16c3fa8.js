(self.webpackChunkkdn_ozg=self.webpackChunkkdn_ozg||[]).push([[530],{28530:function(t,e,a){var l,n;void 0===(n="function"==typeof(l=function(){"use strict";return{setUpList:function(t){let e=this;for(let a=0,l=t.length;a<l;a++)e.initSelect2(t.item(a))},initSelect2:function(t){let e=this,a=jQuery(t),l=!1,n=a.data("popover"),i=null,o=10;a.removeClass("form-control"),a.find('option[value=""]').length||"true"===a.attr("data-sonata-select2-allow-clear")?l=!0:"false"===a.attr("data-sonata-select2-allow-clear")&&(l=!1),a.attr("data-sonata-select2-maximumSelectionSize")&&(i=a.attr("data-sonata-select2-maximumSelectionSize")),a.attr("data-sonata-select2-minimumResultsForSearch")&&(o=a.attr("data-sonata-select2-minimumResultsForSearch"));let d={width:function(){return e.getSelect2Width(window.Select2?this.element:a)},dropdownAutoWidth:!0,minimumResultsForSearch:o,allowClear:l,maximumSelectionSize:i};a.select2(d),void 0!==n&&a.select2("container").popover(n.options),a.attr("data-reload-selector")&&a.on("change",(function(t){const l=$(a.attr("data-reload-selector")).first();e.updateSelectChoices(l,t)}))},updateSelectChoices:function(t,e){let a,l,n=this;e.added?(a="added",l=e.added.id):(a="removed",l=e.removed.id);const i={changeData:{entityId:t.attr("data-entity-id"),groupValues:e.val,type:a,groupId:l}};let o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===this.readyState&&200===this.status){const e=JSON.parse(this.responseText);t.select2("destroy");let a=t.val(),l=t.get(0);for(let t=l.options.length-1;t>=0;t--)l.options[t]=null;for(let t=0,a=e.data.serviceList.length;t<a;t++){let a=document.createElement("option");const n=e.data.serviceList[t];a.value=n.id,a.innerHTML=n.text,l.appendChild(a)}a||(a=[]);let i=[];if(e.data.removed&&e.data.removed.length>0)for(let t=0,l=a.length;t<l;t++){let l=parseInt(a[t]),n=!1;for(let t=0,a=e.data.removed.length;t<a;t++)if(l===e.data.removed[t].id){n=!0;break}n||i.push(l)}else if(e.data.added&&e.data.added.length>0){i=a;for(let t=0,l=e.data.added.length;t<l;t++){let l=e.data.added[t];a.indexOf(l.id)<0&&i.push(l.id)}}$(l).val(i),$(l).select2({width:function(){return n.getSelect2Width(window.Select2?this.element:select)},dropdownAutoWidth:!0,minimumResultsForSearch:10,allowClear:!0,maximumSelectionSize:null})}};let d=t.attr("data-url");d||(d=$(t.data("select2").select).attr("data-url")),o.open("POST",d,!0),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(i))},getSelect2Width:function(t){let e=/width:(auto|(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc)))/i,a=t.attr("style");if(void 0!==a){let t=a.split(";");for(let a=0,l=t.length;a<l;a+=1){let l=t[a].replace(/\s/g,"").match(e);if(null!==l&&l.length>=1)return l[1]}}return a=t.css("width"),a.indexOf("%")>0?a:"100%"},addLoader:function(t){t.innerHTML='<div class="chart-loader"><i class="fa fa-cog fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span></div>'}}})?l.call(e,a,e,t):l)||(t.exports=n)}}]);