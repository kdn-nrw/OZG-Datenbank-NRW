(self.webpackChunkkdn_ozg=self.webpackChunkkdn_ozg||[]).push([[530],{28530:function(e,t,a){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";return{setUpList:function(e){for(var t=this,a=0,n=e.length;a<n;a++)t.initSelect2(e.item(a))},initSelect2:function(e){var t=this,a=jQuery(e),n=!1,i=a.data("popover"),r=null,d=10;a.removeClass("form-control"),a.find('option[value=""]').length||"true"===a.attr("data-sonata-select2-allow-clear")?n=!0:"false"===a.attr("data-sonata-select2-allow-clear")&&(n=!1),a.attr("data-sonata-select2-maximumSelectionSize")&&(r=a.attr("data-sonata-select2-maximumSelectionSize")),a.attr("data-sonata-select2-minimumResultsForSearch")&&(d=a.attr("data-sonata-select2-minimumResultsForSearch"));var o={width:function(){return t.getSelect2Width(window.Select2?this.element:a)},dropdownAutoWidth:!0,minimumResultsForSearch:d,allowClear:n,maximumSelectionSize:r};a.select2(o),void 0!==i&&a.select2("container").popover(i.options),a.attr("data-reload-selector")&&a.on("change",(function(e){var n=$(a.attr("data-reload-selector")).first();t.updateSelectChoices(n,e)}))},updateSelectChoices:function(e,t){var a,n,i=this;t.added?(a="added",n=t.added.id):(a="removed",n=t.removed.id);var r={changeData:{entityId:e.attr("data-entity-id"),groupValues:t.val,type:a,groupId:n}},d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);e.select2("destroy");for(var a=e.val(),n=e.get(0),r=n.options.length-1;r>=0;r--)n.options[r]=null;for(var d=0,o=t.data.serviceList.length;d<o;d++){var l=document.createElement("option"),s=t.data.serviceList[d];l.value=s.id,l.innerHTML=s.text,n.appendChild(l)}a||(a=[]);var c=[];if(t.data.removed&&t.data.removed.length>0)for(var u=0,h=a.length;u<h;u++){for(var m=parseInt(a[u]),p=!1,f=0,v=t.data.removed.length;f<v;f++)if(m===t.data.removed[f].id){p=!0;break}p||c.push(m)}else if(t.data.added&&t.data.added.length>0){c=a;for(var g=0,S=t.data.added.length;g<S;g++){var w=t.data.added[g];a.indexOf(w.id)<0&&c.push(w.id)}}$(n).val(c),$(n).select2({width:function(){return i.getSelect2Width(window.Select2?this.element:select)},dropdownAutoWidth:!0,minimumResultsForSearch:10,allowClear:!0,maximumSelectionSize:null})}};var o=e.attr("data-url");o||(o=$(e.data("select2").select).attr("data-url")),d.open("POST",o,!0),d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify(r))},getSelect2Width:function(e){var t=/width:(auto|(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc)))/i,a=e.attr("style");if(void 0!==a)for(var n=a.split(";"),i=0,r=n.length;i<r;i+=1){var d=n[i].replace(/\s/g,"").match(t);if(null!==d&&d.length>=1)return d[1]}return(a=e.css("width")).indexOf("%")>0?a:"100%"},addLoader:function(e){e.innerHTML='<div class="chart-loader"><i class="fa fa-cog fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span></div>'}}})?n.call(t,a,t,e):n)||(e.exports=i)}}]);