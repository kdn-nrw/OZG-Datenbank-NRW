(self.webpackChunkkdn_ozg=self.webpackChunkkdn_ozg||[]).push([[787],{31787:function(e,t,l){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";return{setUpAddLinksList:function(e){let t=this;if(e.length>0){for(let l=0,n=e.length;l<n;l++)t.initAddLink(e[l]);t.initAddLinkOnClick()}},initAddLinkOnClick:function(){let e=this;document.addEventListener("click",(function(t){let l;if(l=t.target.matches(".js-filter-add")?t.target:t.target.closest(".js-filter-add"),l){t.preventDefault(),t.stopPropagation();let n=e.getFilterToggle(l),i=e.getFilterGroup(n);if(null!==n&&null!==i){null===i.offsetParent&&e.click(n),e.groupValue(i,l.dataset.value);let t=i.querySelectorAll("select");$(t).trigger("change"),e.submit(l.dataset.container)}}}),!1)},initAddLink:function(e){let t=this.getFilterToggle(e),l=this.getFilterGroup(t);null!==l?this.groupValue(l,null).indexOf(e.dataset.value)>=0&&(e.style.display="none"):e.style.display="none"},getFilterToggle:function(e){let t=document.querySelector('a.sonata-toggle-filter[filter-target$="'+e.dataset.target+'"]');return null===t&&e.dataset.field&&(t=document.querySelector('a.sonata-toggle-filter[filter-target$="'+e.dataset.field+'"]')),t},getFilterGroup:function(e){if(null!==e){let t=e.getAttribute("filter-target");return document.getElementById(t)}return null},submit:function(e){let t=document.getElementById(e).querySelector('.btn-primary[type="submit"]');t&&this.click(t)},click:function(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)},groupValue:function(e,t){let l=[],n=e.querySelectorAll('select[id$="_value"] option');for(let e=0,i=n.length;e<i;e++){let i=n[e];i.selected||null===t||i.value!=t||(i.selected=!0),i.selected&&l.push(i.value)}return l},setUpFilterSelectionList:function(e){let t=this;if(null!==e){let l=e.parentNode,n=document.querySelector(".sonata-filters-box"),i=n?n.querySelector(".sonata-filter-form"):null;if(n&&i){let r=function(e){(function(e){let t=e.childNodes;for(let e=0,l=t.length;e<l;e++)if("#text"!==t[e].nodeName&&!t[e].classList.contains("hide-empty-block"))return!0;return!1})(e)||(e.classList.add("hide-empty-block"),e.parentNode&&r(e.parentNode))};e.setAttribute("class","app-filter-selection"),n.parentNode.classList.add("app-container-filter"),n.parentNode.prepend(e),r(l);let a=e.querySelectorAll(".js-custom-filter");if(a.length>0){for(let l=0,r=a.length;l<r;l++){let r=JSON.parse(a[l].dataset.filterValue);t.checkCustomFilterActive(e,n,i,r)&&a[l].classList.add("active")}document.addEventListener("click",(function(l){let r=l.target.matches(".js-custom-filter");if(r||(r=l.target.closest(".js-custom-filter")),r&&(l.preventDefault(),r.dataset)){let l=JSON.parse(r.dataset.filterValue);t.onCustomFilterClicked(e,n,i,l)}}),!1)}}}},checkCustomFilterActive:function(e,t,l,n){let i=t.getAttribute("id").replace("filter-container","filter"),r=!0;return Object.keys(n).forEach((function(e){let t=i+"-"+e;if(document.getElementById(t)){let t=document.getElementById("filter_"+e+"_value");t&&("select"===t.tagName.toLowerCase()||"input"===t.tagName.toLowerCase())&&(r=r&&t.value==n[e])}})),r},onCustomFilterClicked:function(e,t,l,n){let i=t.getAttribute("id").replace("filter-container","filter");Object.keys(n).forEach((function(t){let l=i+"-"+t,r=document.getElementById(l);if(r){let i=e.querySelector('a[filter-target="'+l+'"]');i&&null===r.offsetParent&&i.click();let a=document.getElementById("filter_"+t+"_value");a&&("select"===a.tagName.toLowerCase()?(a.value=n[t],$(a).select2("val",n[t])):"input"===a.tagName.toLowerCase()&&(a.value=n[t]))}})),l.submit()}}})?n.call(t,l,t,e):n)||(e.exports=i)}}]);