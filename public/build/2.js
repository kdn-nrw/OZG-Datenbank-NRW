(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[2],{

/***/ "./assets/js/modules/chart.js":
/*!************************************!*\
  !*** ./assets/js/modules/chart.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * This file is part of the KDN OZG package.
 *
 * @author    Gert Hammes <info@gerthammes.de>
 * @copyright 2020 Gert Hammes
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
(function (root, factory) {
  if (true) {
    // AMD. Register as an anonymous module.
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! chart.js */ "./node_modules/chart.js/dist/Chart.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Chart) {
      return factory(Chart);
    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function (Chart) {
  "use strict";

  return {
    setUpList: function setUpList(chartContainers) {
      var self = this;

      for (var i = 0; i < chartContainers.length; i++) {
        self.load(chartContainers.item(i));
      }
    },
    parseFunction: function parseFunction(str) {
      var fn_body_idx = str.indexOf('{'),
          fn_body = str.substring(fn_body_idx + 1, str.lastIndexOf('}')),
          fn_declare = str.substring(0, fn_body_idx),
          fn_params = fn_declare.substring(fn_declare.indexOf('(') + 1, fn_declare.lastIndexOf(')')),
          args = fn_params.split(',');
      args.push(fn_body);

      function Fn() {
        return Function.apply(this, args);
      }

      Fn.prototype = Function.prototype;
      return new Fn();
    },
    parseJson: function parseJson(rawData) {
      var self = this;

      if (_typeof(rawData) === 'object') {
        for (var key in rawData) {
          if (rawData.hasOwnProperty(key)) {
            rawData[key] = self.parseJson(rawData[key]);
          }
        }

        return rawData;
      } else if (typeof rawData === 'string' && rawData.startsWith('function(')) {
        return self.parseFunction(rawData);
      }

      return rawData;
    },
    initializeCanvas: function initializeCanvas(container, chartConfig) {
      var self = this;
      var canvas = document.createElement("canvas");
      canvas.setAttribute("class", "mb-statistics-chart");
      container.innerHTML = '';
      container.appendChild(canvas);
      var data = self.parseJson(chartConfig);
      var context = canvas.getContext('2d');
      var myChart = new Chart(context, data);
    },
    load: function load(container) {
      var self = this;

      if (self.chart) {
        self.chart.destroy();
      }

      self.addLoader(container);
      var xhttp = new XMLHttpRequest();

      xhttp.onreadystatechange = function () {
        container.innerHTML = '';

        if (this.readyState === 4 && this.status === 200) {
          var data = JSON.parse(this.responseText);

          if (data && data.chartConfig) {
            self.initializeCanvas(container, data.chartConfig);
          } else {
            container.innerHTML = '<div class="message-chart-empty">No data found</div>';
          }
        }
      };

      xhttp.open("GET", container.getAttribute('data-url'), true);
      xhttp.send();
    },
    addLoader: function addLoader(container) {
      container.innerHTML = '<div class="chart-loader"><i class="fa fa-cog fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span></div>';
    }
  };
});

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvbW9kdWxlcy9jaGFydC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsIkNoYXJ0Iiwic2V0VXBMaXN0IiwiY2hhcnRDb250YWluZXJzIiwic2VsZiIsImkiLCJsZW5ndGgiLCJsb2FkIiwiaXRlbSIsInBhcnNlRnVuY3Rpb24iLCJzdHIiLCJmbl9ib2R5X2lkeCIsImluZGV4T2YiLCJmbl9ib2R5Iiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJmbl9kZWNsYXJlIiwiZm5fcGFyYW1zIiwiYXJncyIsInNwbGl0IiwicHVzaCIsIkZuIiwiRnVuY3Rpb24iLCJhcHBseSIsInByb3RvdHlwZSIsInBhcnNlSnNvbiIsInJhd0RhdGEiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsInN0YXJ0c1dpdGgiLCJpbml0aWFsaXplQ2FudmFzIiwiY29udGFpbmVyIiwiY2hhcnRDb25maWciLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImRhdGEiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsIm15Q2hhcnQiLCJjaGFydCIsImRlc3Ryb3kiLCJhZGRMb2FkZXIiLCJ4aHR0cCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsIm9wZW4iLCJnZXRBdHRyaWJ1dGUiLCJzZW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNDLFdBQVVBLElBQVYsRUFBZ0JDLE9BQWhCLEVBQXlCO0FBQ3RCLE1BQUksSUFBSixFQUFnRDtBQUM1QztBQUNBQyxxQ0FBTyxDQUFDLDRFQUFELENBQUQsbUNBQWUsVUFBVUMsS0FBVixFQUFpQjtB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U0FBVixHQUFzQixzSEFBdEI7QUFDSDtBQTVFRSxHQUFQO0FBOEVILENBaEdBLENBQUQsQyIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgS0ROIE9aRyBwYWNrYWdlLlxuICpcbiAqIEBhdXRob3IgICAgR2VydCBIYW1tZXMgPGluZm9AZ2VydGhhbW1lcy5kZT5cbiAqIEBjb3B5cmlnaHQgMjAyMCBHZXJ0IEhhbW1lc1xuICpcbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3IHRoZSBMSUNFTlNFXG4gKiBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2NoYXJ0LmpzJ10sIGZ1bmN0aW9uIChDaGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkoQ2hhcnQpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnY2hhcnQuanMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEpTVW5kZWZpbmVkUHJvcGVydHlBc3NpZ25tZW50XG4gICAgICAgIHJvb3QuYXBwQ2hhcnQgPSBmYWN0b3J5KHJvb3QuQ2hhcnQpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKENoYXJ0KSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0VXBMaXN0OiBmdW5jdGlvbiAoY2hhcnRDb250YWluZXJzKSB7XG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0Q29udGFpbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHNlbGYubG9hZChjaGFydENvbnRhaW5lcnMuaXRlbShpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFyc2VGdW5jdGlvbjogZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgbGV0IGZuX2JvZHlfaWR4ID0gc3RyLmluZGV4T2YoJ3snKSxcbiAgICAgICAgICAgICAgICBmbl9ib2R5ID0gc3RyLnN1YnN0cmluZyhmbl9ib2R5X2lkeCArIDEsIHN0ci5sYXN0SW5kZXhPZignfScpKSxcbiAgICAgICAgICAgICAgICBmbl9kZWNsYXJlID0gc3RyLnN1YnN0cmluZygwLCBmbl9ib2R5X2lkeCksXG4gICAgICAgICAgICAgICAgZm5fcGFyYW1zID0gZm5fZGVjbGFyZS5zdWJzdHJpbmcoZm5fZGVjbGFyZS5pbmRleE9mKCcoJykgKyAxLCBmbl9kZWNsYXJlLmxhc3RJbmRleE9mKCcpJykpLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBmbl9wYXJhbXMuc3BsaXQoJywnKTtcblxuICAgICAgICAgICAgYXJncy5wdXNoKGZuX2JvZHkpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBGbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEZuLnByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlSnNvbjogZnVuY3Rpb24gKHJhd0RhdGEpIHtcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHJhd0RhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiByYXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdEYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd0RhdGFba2V5XSA9IHNlbGYucGFyc2VKc29uKHJhd0RhdGFba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd0RhdGE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiAocmF3RGF0YSkgPT09ICdzdHJpbmcnICYmIHJhd0RhdGEuc3RhcnRzV2l0aCgnZnVuY3Rpb24oJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5wYXJzZUZ1bmN0aW9uKHJhd0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJhd0RhdGE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdGlhbGl6ZUNhbnZhczogZnVuY3Rpb24gKGNvbnRhaW5lciwgY2hhcnRDb25maWcpIHtcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWItc3RhdGlzdGljcy1jaGFydFwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHNlbGYucGFyc2VKc29uKGNoYXJ0Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGxldCBteUNoYXJ0ID0gbmV3IENoYXJ0KGNvbnRleHQsIGRhdGEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHNlbGYuY2hhcnQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNoYXJ0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuYWRkTG9hZGVyKGNvbnRhaW5lcik7XG4gICAgICAgICAgICBsZXQgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0ICYmIHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNoYXJ0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmluaXRpYWxpemVDYW52YXMoY29udGFpbmVyLCBkYXRhLmNoYXJ0Q29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cIm1lc3NhZ2UtY2hhcnQtZW1wdHlcIj5ObyBkYXRhIGZvdW5kPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHhodHRwLm9wZW4oXCJHRVRcIiwgY29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGF0YS11cmwnKSwgdHJ1ZSk7XG4gICAgICAgICAgICB4aHR0cC5zZW5kKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZExvYWRlcjogZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJjaGFydC1sb2FkZXJcIj48aSBjbGFzcz1cImZhIGZhLWNvZyBmYS1zcGluIGZhLTN4IGZhLWZ3XCI+PC9pPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPkxvYWRpbmcuLi48L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfVxuICAgIH07XG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9