(self.webpackChunkkdn_ozg=self.webpackChunkkdn_ozg||[]).push([[787],{31787:function(e,t,r){var l,a;void 0===(a="function"==typeof(l=function(){"use strict";return{setUpAddLinksList:function(e){var t=this;if(e.length>0){for(var r=0,l=e.length;r<l;r++)t.initAddLink(e[r]);t.initAddLinkOnClick()}},initAddLinkOnClick:function(){var e=this;document.addEventListener("click",(function(t){var r;if(r=t.target.matches(".js-filter-add")?t.target:t.target.closest(".js-filter-add")){t.preventDefault(),t.stopPropagation();var l=e.getFilterToggle(r),a=e.getFilterGroup(l);if(null!==l&&null!==a){null===a.offsetParent&&e.click(l),e.groupValue(a,r.dataset.value);var n=a.querySelectorAll("select");$(n).trigger("change"),e.submit(r.dataset.container)}}}),!1)},initAddLink:function(e){var t=this.getFilterToggle(e),r=this.getFilterGroup(t);null!==r?this.groupValue(r,null).indexOf(e.dataset.value)>=0&&(e.style.display="none"):e.style.display="none"},getFilterToggle:function(e){var t=document.querySelector('a.sonata-toggle-filter[filter-target$="'+e.dataset.target+'"]');return null===t&&e.dataset.field&&(t=document.querySelector('a.sonata-toggle-filter[filter-target$="'+e.dataset.field+'"]')),t},getFilterGroup:function(e){if(null!==e){var t=e.getAttribute("filter-target");return document.getElementById(t)}return null},submit:function(e){var t=document.getElementById(e).querySelector('.btn-primary[type="submit"]');t&&this.click(t)},click:function(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)},groupValue:function(e,t){for(var r=[],l=e.querySelectorAll('select[id$="_value"] option'),a=0,n=l.length;a<n;a++){var i=l[a];i.selected||null===t||i.value!=t||(i.selected=!0),i.selected&&r.push(i.value)}return r},setUpFilterSelectionList:function(e){var t=this;if(null!==e){var r=e.parentNode,l=document.querySelector(".sonata-filters-box"),a=l?l.querySelector(".sonata-filter-form"):null;if(l&&a){var n=function e(t){var r=function(e){for(var t=e.childNodes,r=0,l=t.length;r<l;r++)if("#text"!==t[r].nodeName&&!t[r].classList.contains("hide-empty-block"))return!0;return!1};r(t)||(t.classList.add("hide-empty-block"),t.parentNode&&e(t.parentNode))};e.setAttribute("class","app-filter-selection"),l.parentNode.classList.add("app-container-filter"),l.parentNode.prepend(e),n(r);var i=e.querySelectorAll(".js-custom-filter");if(i.length>0){for(var o=0,c=i.length;o<c;o++){var u=JSON.parse(i[o].dataset.filterValue);t.checkCustomFilterActive(e,l,a,u)&&i[o].classList.add("active")}document.addEventListener("click",(function(r){var n=r.target.matches(".js-custom-filter");if(n||(n=r.target.closest(".js-custom-filter")),n&&(r.preventDefault(),n.dataset)){var i=JSON.parse(n.dataset.filterValue);t.onCustomFilterClicked(e,l,a,i)}}),!1)}}}},checkCustomFilterActive:function(e,t,r,l){var a=t.getAttribute("id").replace("filter-container","filter"),n=!0;return Object.keys(l).forEach((function(e){var t=a+"-"+e;if(document.getElementById(t)){var r=document.getElementById("filter_"+e+"_value");r&&("select"===r.tagName.toLowerCase()||"input"===r.tagName.toLowerCase())&&(n=n&&r.value==l[e])}})),n},onCustomFilterClicked:function(e,t,r,l){var a=t.getAttribute("id").replace("filter-container","filter");Object.keys(l).forEach((function(t){var r=a+"-"+t,n=document.getElementById(r);if(n){var i=e.querySelector('a[filter-target="'+r+'"]');i&&null===n.offsetParent&&i.click();var o=document.getElementById("filter_"+t+"_value");o&&("select"===o.tagName.toLowerCase()?(o.value=l[t],$(o).select2("val",l[t])):"input"===o.tagName.toLowerCase()&&(o.value=l[t]))}})),r.submit()}}})?l.call(t,r,t,e):l)||(e.exports=a)}}]);