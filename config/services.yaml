# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
parameters:
  locale: 'de'
  locales: ['de']
  env(APP_MAILER_DEBUG): 'false'
  env(APP_MAILER_DEBUG_RECIPIENT): 'info@gerthammes.de'
  env(APP_MAILER_FROM_MAIL): 'info@gerthammes.de'
  env(APP_MAILER_FROM_NAME): 'DWH Plattform'
  env(APP_MAILER_ADMIN_MAIL): 'info@gerthammes.de'

services:
  # default configuration for services in *this* file
  _defaults:
    autowire: true      # Automatically injects dependencies in your services.
    autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

  # makes classes in src/ available to be used as services
  # this creates a service per class whose id is the fully-qualified class name
  App\:
    resource: '../src/*'
    exclude: '../src/{DependencyInjection,Entity,Migrations,Tests,Util,Types,Kernel.php}'

  # controllers are imported separately to make sure services can be injected
  # as action arguments even if you don't extend any base controller class
  App\Controller\:
    resource: '../src/Controller'
    tags: ['controller.service_arguments']


  App\Translator\PrefixedUnderscoreLabelTranslatorStrategy:
    public: true

  App\Admin\AnalogServiceAdmin:
    arguments:
      - ~
      - App\Entity\AnalogService
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.analog_service.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ApplicationAdmin:
    arguments:
      - ~
      - App\Entity\Application
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.application.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ApplicationCategoryAdmin:
    arguments:
      - ~
      - App\Entity\ApplicationCategory
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.application_category.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\AuthenticationAdmin:
    arguments:
      - ~
      - App\Entity\Authentication
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.authentication.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\BureauAdmin:
    arguments:
      - ~
      - App\Entity\Bureau
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.bureau.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\CategoryAdmin:
    arguments:
      - ~
      - App\Entity\Category
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.category.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\CentralAssociationAdmin:
    arguments:
      - ~
      - App\Entity\CentralAssociation
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.central_association.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\CommuneAdmin:
    arguments:
      - ~
      - App\Entity\Commune
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.commune.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ContactAdmin:
    arguments:
      - ~
      - App\Entity\Contact
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.contact.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\EFileAdmin:
    arguments:
      - ~
      - App\Entity\EFile
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.efile.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\EFileStatusAdmin:
    arguments:
      - ~
      - App\Entity\EFileStatus
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.efile_status.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\EFileStorageTypeAdmin:
    arguments:
      - ~
      - App\Entity\EFileStorageType
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.efile_storage_type.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\FormServerAdmin:
    arguments:
      - ~
      - App\Entity\FormServer
      - ~
    calls:
      - [addChild, ['@App\Admin\FormServerSolutionAdmin', 'formServer']]
      - [setTemplate, ['show', 'FormServerAdmin/show.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.form_server.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\FormServerSolutionAdmin:
    arguments:
      - ~
      - App\Entity\FormServerSolution
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.form_server_solution.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\FundingAdmin:
    arguments:
      - ~
      - App\Entity\Funding
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.funding.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ImplementationStatusAdmin:
    arguments:
      - ~
      - App\Entity\ImplementationStatus
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.implementation_status.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ImplementationProjectAdmin:
    arguments:
      - ~
      - App\Entity\ImplementationProject
      - ~
    calls:
      - [setTemplate, ['show', 'ImplementationProjectAdmin/show.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.implementation_project.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\Frontend\ImplementationProjectAdmin:
    arguments:
      - ~
      - App\Entity\ImplementationProject
      - ~
    calls:
      - [setTemplate, ['show', 'ImplementationProjectAdmin/show.html.twig']]
      - [setTemplate, ['list', 'ImplementationProjectAdmin/list.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.implementation_project.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
        datagrid_builder: 'App\Builder\CustomDatagridBuilder'
    public: true

  App\Admin\JurisdictionAdmin:
    arguments:
      - ~
      - App\Entity\Jurisdiction
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.jurisdiction.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\LaboratoryAdmin:
    arguments:
      - ~
      - App\Entity\Laboratory
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.laboratory.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ManufacturerAdmin:
    arguments:
      - ~
      - App\Entity\Manufacturer
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.manufacturer.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\MailingAdmin:
    arguments:
      - ~
      - App\Entity\Mailing
      - ~
    calls:
      - [addChild, ['@App\Admin\MailingContactAdmin', 'mailing']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.mailing.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\MailingContactAdmin:
    arguments:
      - ~
      - App\Entity\MailingContact
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.mailing_contact.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\MinistryStateAdmin:
    arguments:
      - ~
      - App\Entity\MinistryState
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.ministry_state.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\MaturityAdmin:
    arguments:
      - ~
      - App\Entity\Maturity
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.maturity.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ModelRegionAdmin:
    arguments:
      - ~
      - App\Entity\ModelRegion
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.model_region.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\Frontend\ModelRegionAdmin:
    arguments:
      - ~
      - App\Entity\ModelRegion
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.model_region.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
        datagrid_builder: 'App\Builder\CustomDatagridBuilder'
    public: true

  App\Admin\ModelRegionBeneficiaryAdmin:
    arguments:
      - ~
      - App\Entity\ModelRegionBeneficiary
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.model_region_beneficiary.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ModelRegionProjectAdmin:
    arguments:
      - ~
      - App\Entity\ModelRegionProject
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.model_region_project.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\Frontend\ModelRegionProjectAdmin:
    arguments:
      - ~
      - App\Entity\ModelRegionProject
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.model_region_project.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
        datagrid_builder: 'App\Builder\CustomDatagridBuilder'
    public: true

  App\Admin\OpenDataAdmin:
    arguments:
      - ~
      - App\Entity\OpenData
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.open_data.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\OrganisationAdmin:
    arguments:
      - ~
      - App\Entity\Organisation
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.organisation.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\PageContentAdmin:
    arguments:
      - ~
      - App\Entity\PageContent
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.page_content.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\PaymentTypeAdmin:
    arguments:
      - ~
      - App\Entity\PaymentType
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.payment_type.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\PortalAdmin:
    arguments:
      - ~
      - App\Entity\Portal
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.portal.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\PriorityAdmin:
    arguments:
      - ~
      - App\Entity\Priority
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.priority.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\SituationAdmin:
    arguments:
      - ~
      - App\Entity\Situation
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.situation.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ServiceSystemAdmin:
    arguments:
      - ~
      - App\Entity\ServiceSystem
      - ~
    calls:
      - [setTemplate, ['show', 'ServiceSystemAdmin/show.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.service_system.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\Frontend\ServiceSystemAdmin:
    arguments:
      - ~
      - App\Entity\ServiceSystem
      - ~
    calls:
      - [setTemplate, ['show', 'ServiceSystemAdmin/show.html.twig']]
      - [setTemplate, ['list', 'ServiceSystemAdmin/list.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.service_system.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
        datagrid_builder: 'App\Builder\CustomDatagridBuilder'
    public: true

  App\Admin\ServiceAdmin:
    arguments:
      - ~
      - App\Entity\Service
      - ~
    calls:
      - [setTemplate, ['show', 'ServiceAdmin/show.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.service.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\Frontend\ServiceAdmin:
    arguments:
      - ~
      - App\Entity\Service
      - ~
    calls:
      - [setTemplate, ['show', 'ServiceAdmin/show.html.twig']]
      - [setTemplate, ['list', 'ServiceAdmin/list.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.service.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
        datagrid_builder: 'App\Builder\CustomDatagridBuilder'
    public: true

  App\Admin\ServiceProviderAdmin:
    arguments:
      - ~
      - App\Entity\ServiceProvider
      - ~
    calls:
      - [setTemplate, ['show', 'ServiceProviderAdmin/show.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.service_provider.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\ServiceSolutionAdmin:
    arguments:
      - ~
      - App\Entity\ServiceSolution
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.service_solution.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\StatusAdmin:
    arguments:
      - ~
      - App\Entity\Status
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.status.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\SpecializedProcedureAdmin:
    arguments:
      - ~
      - App\Entity\SpecializedProcedure
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.specialized_procedure.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\SolutionAdmin:
    arguments:
      - ~
      - App\Entity\Solution
      - ~
    calls:
      - [addChild, ['@App\Admin\ServiceSolutionAdmin', 'solution']]
      - [addChild, ['@App\Admin\FormServerSolutionAdmin', 'solution']]
      - [setTemplate, ['show', 'SolutionAdmin/show.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.solution.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Admin\Frontend\SolutionAdmin:
    arguments:
      - ~
      - App\Entity\Solution
      - ~
    calls:
      - [setTemplate, ['show', 'SolutionAdmin/show.html.twig']]
      - [setTemplate, ['list', 'SolutionAdmin/list.html.twig']]
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.solution.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
        datagrid_builder: 'App\Builder\CustomDatagridBuilder'
    public: true

  App\Entity\Manager\ImplementationProjectManager:
    arguments:
      - '@doctrine'

  App\Entity\Manager\SolutionManager:
    arguments:
      - '@doctrine'

  App\Entity\Manager\ServiceManager:
    arguments:
      - '@doctrine'

  App\Admin\SubjectAdmin:
    arguments:
      - ~
      - App\Entity\Subject
      - ~
    tags:
      - name:         sonata.admin
        manager_type: orm
        label:        app.subject.list
        label_translator_strategy: 'App\Translator\PrefixedUnderscoreLabelTranslatorStrategy'
    public: true

  App\Block\RecentSolutionsBlock:
    arguments:
      - '@sonata.templating'
      - '@App\Entity\Manager\SolutionManager'
      - '@?sonata.admin.pool'
    tags:
      - { name: sonata.block }

  App\Block\StatisticsBlock:
    arguments:
      - '@sonata.templating'
      - '@App\Statistics\ProviderLoader'
      - '@?sonata.admin.pool'
    tags:
      - { name: sonata.block }

  App\Security\Authorization\Voter\ProtectSuperAdminVoter:
    arguments:
      - '@security.authorization_checker'
    tags:
      - { name: security.voter }

  App\Security\Authorization\Voter\UserVoter:
    tags:
      - { name: security.voter }

  App\Form\Type\SecurityRolesType:
    arguments:
      - '@kernel'
    tags:
      - { name: form.type }

  App\Builder\CustomDatagridBuilder:
    arguments:
      - '@form.factory'
      - '@sonata.admin.builder.filter.factory'
      - '@sonata.admin.guesser.orm_datagrid_chain'
      - '%form.type_extension.csrf.enabled%'

  App\EventListener\MenuBuilderListener:
    arguments:
      - '@request_stack'
    tags:
      - { name: kernel.event_listener, event: sonata.admin.event.configure.menu.sidebar, method: addMenuItems }

  App\Controller\SearchController:
    arguments:
      - '@sonata.admin.pool'
      - '@translator'

  App\Service\Mailer\BaseMailer:
    arguments:
      $fromEmail: '%env(string:APP_MAILER_FROM_MAIL)%'
      $fromName: '%env(string:APP_MAILER_FROM_NAME)%'
      $adminEmail: '%env(string:APP_MAILER_ADMIN_MAIL)%'
      $isDebug: '%env(bool:APP_MAILER_DEBUG)%'
      $debugEmail: '%env(string:APP_MAILER_DEBUG_RECIPIENT)%'

  App\Exporter\Writer\XlsxWriter:
    arguments:
      - '%sonata.exporter.writer.xls.filename%'
      - '%sonata.exporter.writer.xls.show_headers%'
    tags:
      - { name: sonata.exporter.writer}

  App\Statistics\Provider\SolutionMaturityChartProvider:
    tags:
      - { name: custom_statistics.provider }

  App\Statistics\Provider\SolutionStatusChartProvider:
    tags:
      - { name: custom_statistics.provider }

  App\Statistics\Provider\ImplementationProjectStatusChartProvider:
    tags:
      - { name: custom_statistics.provider }

  App\Statistics\Provider\ServiceStatusChartProvider:
    tags:
      - { name: custom_statistics.provider }


  App\Controller\DashboardController:
    arguments:
      - '@sonata.admin.global_template_registry'
      - '@sonata.admin.pool'

  App\Action\SearchAction:
    arguments:
      - '@sonata.admin.pool'
      - '@sonata.admin.search.handler'
      - '@twig'
    autowire: false
    public: true